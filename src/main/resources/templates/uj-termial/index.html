<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>UJ终端</title>
    <link rel="icon" href="imgs/favicon.ico" mce_href="imgs/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/boot.css">
    <link rel="stylesheet" href="./css/alarm.css">
</head>
<body>
    <div class="app-container">
        <nav class="head-top">
            <div class="head-container">
                <div class="head-left">
                    <span id="machInfo">机床</span>
                </div>
                <div class="head-middle">
                    <ul class="menu-box">
                        <li class="text-center menu-box-li menu-li-focus" id="menu_0" onclick="IF(this.id,0)">
                            <a class="inline-block">
                                <div class="img-box"><img src="./imgs/uj_jk1.png" class="p-b5" style="width: 16px;">
                                </div>
                                <span>实时监控</span>
                            </a>
                        </li>
                        <li class="text-center menu-box-li" id="menu_1" onclick="IF(this.id,1)">
                            <a class="inline-block ">
                                <img src="./imgs/uj_bj1.png" class="p-b5">
                                <span>报警查询</span>
                            </a>
                        </li>
                        <li class="text-center menu-box-li" id="menu_2" onclick="IF(this.id,2)">
                            <a class="inline-block">
                                <div class="img-box"><img src="./imgs/uj_yb1.png" class="p-b5"></div>
                                <span>OEE</span>
                            </a>
                        </li>
                        <li class="text-center menu-box-li" id="menu_3" onclick="IF(this.id,3)">
                            <a class="inline-block">
                                <div class="img-box"><img src="./imgs/uj_sm1.png" class="p-b5"></div>
                                <span>说明</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="head-right">
                    <img src="./imgs/uj_logo.png">
                </div>
            </div>
        </nav>
        <div class="app-content">
            <div id="alarm_wrap_box" class="none">
                <div class="head-box none">
                    <div class="fl head-title ml-10 text-space" title="">机床</div>
                    <div class="fr head-logo">
                        <img src="./imgs/uj-logo.png">
                    </div>
                    <div class="fr head-text text-space">
                        <span class="text-space logo-text">友机技术</span>
                    </div>
                </div>
                <div class="pl-10 pr-10">
                    <form class="form-horizontal" role="form">
                        <div class="col-md-12 col-sm-12 col-xs-12" style="padding: 5px 0 20px 0">
                            <input type="hidden" id="timePeriod" value="1">
                            <label class="query_title">报警发生时间：</label>
                            <a class="btn btn-sm time_fliter time_fliter_focus" id="data_1"
                                onclick="filterFocus(this.id,1);">最近8小时</a>
                            <a class="btn btn-sm time_fliter" id="data_2" onclick="filterFocus(this.id,2);">最近1天</a>
                            <a class="btn btn-sm time_fliter" id="data_3" onclick="filterFocus(this.id,3);">最近1周</a>
                            <a class="btn btn-sm time_fliter" id="data_4" onclick="filterFocus(this.id,4);">最近1月</a>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12" id="div_reason_filter_list"
                            style="padding: 0 0 20px 0">
                            <input type="hidden" id="confirmResult">
                            <label class="query_title">反馈类型：</label>
                            <a class="btn btn-sm btn_reason_filter time_fliter_focus" id="reason_all"
                                onclick="reasonfilterFocus(this.id,'');">全部</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_notreply"
                                onclick="reasonfilterFocus(this.id,0);">未反馈</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_wubaoj"
                                onclick="reasonfilterFocus(this.id,201);">误报警</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_benr"
                                onclick="reasonfilterFocus(this.id,301);">崩刃</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_duand"
                                onclick="reasonfilterFocus(this.id,302);">断刀</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_mosun"
                                onclick="reasonfilterFocus(this.id,303);">磨损</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_maopiyc"
                                onclick="reasonfilterFocus(this.id,304);">毛坯/装夹异常</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_chanxie"
                                onclick="reasonfilterFocus(this.id,307);">缠屑/堵屑</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_kongjiagong"
                                onclick="reasonfilterFocus(this.id,305);">空加工</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_tiaoshi"
                                onclick="reasonfilterFocus(this.id,308);">调试</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_fangong"
                                onclick="reasonfilterFocus(this.id,309);">返工/返修</a>
                            <a class="btn btn-sm btn_reason_filter" id="reason_others"
                                onclick="reasonfilterFocus(this.id,306);">其它</a>
                        </div>
                        <div style="cursor:pointer;font-size:16px;margin-bottom:20px;" id="searchBox_btn">更多选项</div>
                        <div class="row" id="searchBox" style="display:none">
                            <div class="col-lg-2 col-md-3 col-sm-3 col-xs-3">
                                <div class="">
                                    <label class="query_title">报警方式:</label>
                                    <select id="alarmResource" class="form-control text-center query_item">
                                        <option value="">全部</option>
                                        <option value="1">监控系统报警</option>
                                        <option value="2">异常主动报警</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3 col-xs-3" id="div_mmtype">
                                <div class="">
                                    <label class="query_title">通道:</label>
                                    <select id="selectMMType" class="form-control query_item">
                                        <option value="">全部</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3 col-xs-3" id="div_programno">
                                <div class="">
                                    <label class="query_title">程序号:</label>
                                    <select id="programNo" class="form-control query_item">
                                        <option value="">全部</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3 col-xs-3">
                                <div class="">
                                    <label class="query_title">报警刀具号:</label>
                                    <select id="toolId" class="form-control query_item">
                                        <option value="">全部</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3 col-xs-3 " id="">
                                <div class="">
                                    <label class="query_title">信号:</label>
                                    <select id="signalCode" class="form-control query_item">
                                        <option value="">全部</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3 col-xs-3 " id="">
                                <div class="">
                                    <label class="query_title">报警结果:</label>
                                    <select id="warningResult" class="form-control query_item">
                                        <option value="">全部</option>
                                        <option value="0">无</option>
                                        <option value="1">忽略</option>
                                        <option value="2">报警</option>
                                        <option value="3">停机</option>
                                        <option value="4">加工结束后停机</option>
                                        <option value="-2">报警控制关</option>
                                        <option value="-3">报警关</option>
                                        <option value="-1">未知</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3 col-xs-3 " id="" style="margin-top:30px;">
                                <div class="">
                                    <button type="button" class="btn btn-primary btn-sm" id="searchBtn">查询</button>
                                    <button type="button"
                                        class="btn btn-outline-secondary btn-sm ml-10 none">重置</button>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="pt-10" id="mainTable">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <div id="data_tip" style="text-align: center;"></div>
                        </div>
                        <div class="page">
                            <ul class="pagination"></ul>
                        </div>
                    </div>
                    <!-- 备注弹窗 -->
                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModal">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title">请输入备注</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                            aria-hidden="true">&times;</span></button>
                                </div>
                                <div class="modal-body">
                                    <form role="form" id="Remarks" name="Remarks">
                                        <div class="form-group">
                                            <label for="name">备注</label>
                                            <textarea class="form-control" rows="3" name="remake"></textarea>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                                    <button type="button" class="btn btn-primary" id="saveRemarks">保存</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 画图弹窗 -->
                    <div class="modal" id="modal_drawing">
                        <div class="modal-dialog" style="min-width:95%">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <span class="modal-title" id="myModalLabel">
                                        监控曲线
                                    </span>
                                    <button type="button" class="close" data-dismiss="modal">关闭</button>
                                </div>
                                <div class="clearfix">
                                    <div class="fl">
                                        程序号：<span id="show_programNo">
                                    </div>
                                    <div class="fl" style="margin-left:30px;">
                                        </span> 刀具号：<span id="toolNo"></span>
                                    </div>
                                </div>
                                <div style="margin-top:10px">
                                    <iframe src="" id="alarmDrawing" style="width:100%;height: 440px;"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <iframe src="about:blank" iframeborder="0" scrolling="auto" id="iframe_main"></iframe>
        </div>
        <div class="modal" id="modal_reasonlist">
            <div class="modal-dialog" style="min-width:95%">
                <div class="modal-content">
                    <div class="modal-header">
                        <span class="modal-title" id="myModalLabel">
                            报警确认
                        </span>
                        <button type="button" class="close" data-dismiss="modal">取消</button>
                    </div>
                    <div class="clearfix">
                        <div class="fl aside-box">
                            <span class="showBox-title">未报警确认：</span>
                            <span class="fr" id="showBox_count"></span>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead id="showBox_head">
                                    </thead>
                                    <tbody id="showBox">
                                    </tbody>
                                </table>
                            </div>
                            <table id="table"></table>
                        </div>
                        <div class="aside-other">
                            <div class="">
                                <div class="col-md-12 col-sm-12 col-xs-12 warning_title" style="display:none">
                                    <label>请注意！该刀具监控到异常，请确认</label>
                                </div>
                                <div class="row m-10" id="div_alarm_auto_band">
                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="processinfo_big">通道：</label>
                                        <span id="alarm_value1"></span>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="processinfo_big">程序号：</label>
                                        <span id="alarm_value2"></span>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="processinfo_big">信号：</label>
                                        <span id="alarm_value3"></span>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="processinfo_big">刀具号：</label>
                                        <span id="alarm_value4"></span>
                                    </div>

                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="processinfo_big">报警类型：</label>
                                        <span id="alarm_value5"></span>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="processinfo_big">报警结果：</label>
                                        <span id="alarm_value6"></span>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="processinfo_big">报警原因：</label>
                                        <span id="alarm_value7"></span>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="processinfo_big">报警时间：</label>
                                        <span id="alarm_value8"></span>
                                    </div>

                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="">确认时间：</label>
                                        <span id="alarm_value9"></span>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-6 form-inline">
                                        <label class="">确认人：</label>
                                        <span id="alarm_value10"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-body clearfix" id="img-out-box">
                                <div style="width:50%;border-left:1px solid #ccc;margin-left:10px;" class="row fr"
                                    id="imgBox">
                                </div>
                                <div style="width:25%;border-left:1px solid #ccc;" class="row fr" id="imgBox2">
                                </div>
                                <div style="width:25%;padding:90px 0 0 0;" class="row fr" id="imgBox3">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="submitBtn">提交</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="./js/jquery.js"></script>
    <script src="./js/ajax.js"></script>
    <script src="./js/boot.js"></script>
    <script src="./js/bootstrap-paginator.js"></script>
    <script src="./js/index.js"></script>
    <script src="./js/alarm.js"></script>
</body>
</html>